{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jh45583/sei/projects/project4/Project-4-FrontEnd/project4-frontend/src/App.js\";\nimport logo from \"./logo.svg\";\nimport React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport './App.css';\nimport UserLogin from './UserLogin';\nimport CarrierLogin from './CarrierLogin';\nimport RestaurantLogin from './RestaurantLogin';\nimport MyOrders from './MyOrders';\nimport axios from \"axios\";\nimport RestaurantList from './RestaurantList';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.getLocation();\n      this.trydocumenu();\n    };\n\n    this.getRestaurantList = async () => {\n      console.log(this.state.latitude);\n      console.log(this.state.longitude);\n      let response = await axios.get(`https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.state.latitude},${this.state.longitude}&radius=5500&type=restaurant&key=AIzaSyD_Nu881UFYUOgGaLliEQ8VpeYTw1LB1CE`);\n      console.log(response);\n      this.setState({\n        restaurantlist: response.data.results\n      });\n      console.log(this.state.restaurantlist);\n    };\n\n    this.trydocumenu = async () => {\n      const options = {\n        method: 'GET',\n        url: 'https://documenu.p.rapidapi.com/restaurants/zip_code/60015',\n        params: {\n          size: '30',\n          fullmenu: 'true',\n          top_cuisines: 'true',\n          page: '2'\n        },\n        headers: {\n          'x-api-key': 'ab1514d61b203d8917678cc66a9aa6c5',\n          'x-rapidapi-key': '5178deb9e5mshbd2528dbbc0e1bfp1ea1fbjsn0bf90fd05f8a',\n          'x-rapidapi-host': 'documenu.p.rapidapi.com'\n        }\n      };\n      let response = axios.request(options).then(function (response) {\n        console.log(response.data);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    this.getLocation = async () => {\n      let response = await axios.get('https://api.ipgeolocation.io/ipgeo?apiKey=25b4efee1bfe40a28d0e03652fded5dd'); //  console.log(response.data.latitude)\n      //  console.log(response.data.longitude)\n\n      this.setState({\n        latitude: response.data.latitude\n      });\n      this.setState({\n        longitude: response.data.longitude\n      });\n      this.getRestaurantList();\n    };\n\n    this.getProfile = async () => {\n      let response = await axios.get(`http://localhost:3001/api/users/profile/${this.state.userid}`);\n      console.log(response.data);\n      this.setState({\n        userinfo: response.data\n      });\n      this.setState({\n        loggedIn: true\n      });\n    };\n\n    this.createUser = async e => {\n      e.preventDefault();\n      let response = await axios.post(`http://localhost:3001/api/auth/signup/user`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }); // console.log(response.data.info)\n\n      this.setState({\n        userid: response.data.info\n      });\n      this.getProfile();\n    };\n\n    this.loginUser = async e => {\n      e.preventDefault();\n      let response = await axios.post(`http://localhost:3001/api/auth/login`, {\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n      console.log(response.data.info); // if(response == ''){\n      //   console.log('no')\n      // }\n\n      this.setState({\n        userid: response.data.info\n      });\n      this.getProfile();\n    };\n\n    this.createCarrier = async e => {\n      e.preventDefault();\n      let response = await axios.post(`http://localhost:3001/api/auth/signup/carrier`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n    };\n\n    this.createRestaurant = async e => {\n      e.preventDefault();\n      let response = await axios.post(`http://localhost:3001/api/auth/signup/restaurant`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n    };\n\n    this.state = {\n      userid: 0,\n      userinfo: '',\n      loggedIn: false,\n      zomatokey: '23b2ca9ccd8bf6aeb3e62dec2f4d6019',\n      restaurantlist: '',\n      distance: 2000,\n      latitude: '',\n      longitude: ''\n    }; // this.baseState = this.state\n\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    this.setState({\n      loggedIn: false\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    if (this.state.loggedIn != true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"DelivApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user\",\n              className: \"li\",\n              children: \"ORDER FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/carrier\",\n              className: \"li\",\n              children: \"DELIVER FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/restaurant\",\n              className: \"li\",\n              children: \"MAKE FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(UserLogin, { ...routerProps,\n                createUser: e => this.createUser(e),\n                loginUser: e => this.loginUser(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/carrier\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(CarrierLogin, { ...routerProps,\n                createCarrier: e => this.createCarrier(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/restaurant\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(RestaurantLogin, { ...routerProps,\n                createRestaurant: e => this.createRestaurant(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"DelivApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Welcome back, \", this.state.userinfo.user.name, \". What do you have a taste for?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user/orders\",\n              onClick: console.log('orders'),\n              className: \"li\",\n              children: \"MY ORDERS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user\",\n              className: \"li\",\n              children: \"ORDER NOW\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              onClick: this.logout,\n              className: \"li\",\n              children: \"LOGOUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user/orders\",\n              component: MyOrders\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(RestaurantList, { ...routerProps,\n                restaurantlist: this.state.restaurantlist\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jh45583/sei/projects/project4/Project-4-FrontEnd/project4-frontend/src/App.js"],"names":["React","Component","Route","Link","Switch","UserLogin","CarrierLogin","RestaurantLogin","MyOrders","axios","RestaurantList","App","constructor","componentDidMount","getLocation","trydocumenu","getRestaurantList","console","log","state","latitude","longitude","response","get","setState","restaurantlist","data","results","options","method","url","params","size","fullmenu","top_cuisines","page","headers","request","then","catch","error","getProfile","userid","userinfo","loggedIn","createUser","e","preventDefault","post","name","target","value","username","password","info","loginUser","createCarrier","createRestaurant","zomatokey","distance","logout","bind","render","routerProps","user"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport './App.css';\nimport UserLogin from './UserLogin';\nimport CarrierLogin from './CarrierLogin';\nimport RestaurantLogin from './RestaurantLogin';\nimport MyOrders from './MyOrders';\nimport axios from \"axios\";\nimport RestaurantList from './RestaurantList';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      userid: 0,\n      userinfo: '',\n      loggedIn: false,\n      zomatokey: '23b2ca9ccd8bf6aeb3e62dec2f4d6019',\n      restaurantlist: '',\n      distance: 2000,\n      latitude: '',\n      longitude: '',\n\n\n    }\n    // this.baseState = this.state\n    this.logout = this.logout.bind(this);\n  }\n  componentDidMount = ()=>{\n    this.getLocation();\n    this.trydocumenu();\n  };\n getRestaurantList = async ()=> {\n   console.log(this.state.latitude)\n   console.log(this.state.longitude)\n   let response = await axios.get(\n    `https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.state.latitude},${this.state.longitude}&radius=5500&type=restaurant&key=AIzaSyD_Nu881UFYUOgGaLliEQ8VpeYTw1LB1CE`\n   )\n   console.log(response)\n   this.setState({restaurantlist: response.data.results})\n   console.log(this.state.restaurantlist)\n }\n trydocumenu = async ()=>{\n  const options = {\n    method: 'GET',\n    url: 'https://documenu.p.rapidapi.com/restaurants/zip_code/60015',\n    params: {size: '30', fullmenu: 'true', top_cuisines: 'true', page: '2'},\n    headers: {\n      'x-api-key': 'ab1514d61b203d8917678cc66a9aa6c5',\n      'x-rapidapi-key': '5178deb9e5mshbd2528dbbc0e1bfp1ea1fbjsn0bf90fd05f8a',\n      'x-rapidapi-host': 'documenu.p.rapidapi.com'\n    }\n  };\n  let response = axios.request(options).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.error(error);\n  });\n\n }\n getLocation = async ()=>{\n   let response = await axios.get('https://api.ipgeolocation.io/ipgeo?apiKey=25b4efee1bfe40a28d0e03652fded5dd')\n   \n  //  console.log(response.data.latitude)\n  //  console.log(response.data.longitude)\n   this.setState({latitude: response.data.latitude})\n   this.setState({longitude: response.data.longitude})\n   this.getRestaurantList();\n   \n }\n getProfile = async ()=>{\n  \n   let response = await axios.get(\n     `http://localhost:3001/api/users/profile/${this.state.userid}`\n   )\n   console.log(response.data)\n   this.setState({userinfo: response.data})\n   this.setState({loggedIn : true})\n   \n }\n createUser = async (e) => {\n    e.preventDefault();\n    let response = await axios.post(\n      `http://localhost:3001/api/auth/signup/user`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n    // console.log(response.data.info)\n    this.setState({userid: response.data.info})\n    this.getProfile();\n  }\n  loginUser = async (e)=>{\n    e.preventDefault();\n    let response = await axios.post(\n      `http://localhost:3001/api/auth/login`,\n      {\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n    console.log(response.data.info)\n    // if(response == ''){\n    //   console.log('no')\n    // }\n    this.setState({userid: response.data.info})\n    \n    this.getProfile();\n    \n  }\n  createCarrier = async (e) => {\n    e.preventDefault();\n    let response = await axios.post(\n      `http://localhost:3001/api/auth/signup/carrier`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n  }\n  createRestaurant = async (e) => {\n    e.preventDefault();\n    let response = await axios.post(\n      `http://localhost:3001/api/auth/signup/restaurant`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n  }\n  logout(){\n    this.setState({loggedIn: false})\n    console.log(this.state)\n  }\n  render(){\n  if(this.state.loggedIn != true){\n  return (\n    <div className=\"App\">\n      <h1>DelivApp</h1>\n      <header className=\"App-header\">\n        <nav>\n          <Link to='/api/auth/signup/user'className='li'>ORDER FOOD</Link>\n          <Link to='/api/auth/signup/carrier' className='li'>DELIVER FOOD</Link>\n          <Link to='/api/auth/signup/restaurant' className='li'>MAKE FOOD</Link>\n        </nav>\n      </header>\n      <main>\n        <Switch>\n      <Route path = '/api/auth/signup/user' component={(routerProps)=> (\n        <UserLogin {...routerProps} createUser={(e) => this.createUser(e)}\n        loginUser={(e)=> this.loginUser(e)}/>)}/>\n      <Route path = '/api/auth/signup/carrier' component={(routerProps)=> (\n        <CarrierLogin {...routerProps} createCarrier={(e) => this.createCarrier(e)}/>)}/>\n      <Route path = '/api/auth/signup/restaurant' component={(routerProps)=> (\n        <RestaurantLogin {...routerProps} createRestaurant={(e) => this.createRestaurant(e)}/>)}/>\n      </Switch>\n      </main>\n    </div>\n  );\n      }\n  else{\n    return(\n      <div className='App'>\n        <h1>DelivApp</h1>\n        <header className=\"App-header\">\n          <h1>Welcome back, {this.state.userinfo.user.name}. What do you have a taste for?</h1>\n          <nav>\n          <Link to='/api/auth/signup/user/orders'onClick={console.log('orders')}className='li'>MY ORDERS</Link>\n          <Link to= '/api/auth/signup/user' className='li'>ORDER NOW</Link>\n\n          <Link to='/'onClick={this.logout} className='li'>LOGOUT</Link>\n        </nav>\n        </header>\n        <main>\n          <Switch>\n            <Route path='/api/auth/signup/user/orders' component={MyOrders}/>\n            <Route path='/api/auth/signup/user' component={(routerProps)=>(\n              <RestaurantList {...routerProps} restaurantlist={this.state.restaurantlist}/>)}/>\n          \n          </Switch>\n        </main>\n        \n      </div>\n    )\n  }\n}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
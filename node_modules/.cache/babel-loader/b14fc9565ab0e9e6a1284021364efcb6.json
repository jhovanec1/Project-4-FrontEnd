{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jh45583/sei/projects/project4/Project-4-FrontEnd/src/App.js\";\nimport logo from \"./logo.svg\";\nimport React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport './App.css';\nimport UserLogin from './UserLogin';\nimport CarrierLogin from './CarrierLogin';\nimport RestaurantLogin from './RestaurantLogin';\nimport MyOrders from './MyOrders';\nimport axios from \"axios\";\nimport RestaurantList from './RestaurantList';\nimport UserAccount from './UserAccount';\nimport CarrierOrders from './CarrierOrders';\nconst backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:3001/api';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.getLocation();\n      console.log(this.state.restaurantlist);\n    };\n\n    this.trydocumenu = async () => {\n      console.log(this.state.zipcode);\n      let res = '';\n      const options = {\n        method: 'GET',\n        url: `https://documenu.p.rapidapi.com/restaurants/zip_code/${this.state.zipcode}`,\n        params: {\n          size: '30',\n          fullmenu: 'true',\n          top_cuisines: 'true',\n          page: '1'\n        },\n        headers: {\n          'x-api-key': 'ab1514d61b203d8917678cc66a9aa6c5',\n          'x-rapidapi-key': '5178deb9e5mshbd2528dbbc0e1bfp1ea1fbjsn0bf90fd05f8a',\n          'x-rapidapi-host': 'documenu.p.rapidapi.com'\n        }\n      };\n      await axios.request(options).then(function (response) {\n        // console.log(response.data);\n        res = response.data;\n      }).catch(function (error) {\n        console.error(error);\n      });\n      this.setState({\n        restaurantlist: res.data\n      });\n      console.log(this.state.restaurantlist);\n    };\n\n    this.getRestaurant = async e => {\n      let response = await axios.get(`${backendUrl}/restaurants/`);\n      this.setState({\n        restaurantarry: response.data.users\n      });\n    };\n\n    this.getLocation = async () => {\n      let response = await axios.get('https://api.ipgeolocation.io/ipgeo?apiKey=25b4efee1bfe40a28d0e03652fded5dd');\n      console.log(response);\n      this.setState({\n        latitude: response.data.latitude\n      });\n      this.setState({\n        longitude: response.data.longitude\n      });\n      this.setState({\n        zipcode: response.data.zipcode\n      });\n      this.trydocumenu();\n    };\n\n    this.getProfile = async () => {\n      let response = await axios.get(`${backendUrl}/users/profile/${this.state.userid}`);\n      console.log(response.data);\n      this.setState({\n        userinfo: response.data\n      });\n      this.setState({\n        loggedIn: true\n      });\n      console.log(this.state.userinfo);\n      this.getOrders();\n    };\n\n    this.createUser = async e => {\n      this.setState({\n        status: 'loading'\n      });\n      e.preventDefault();\n      let response = await axios.post(`${backendUrl}/auth/signup/user`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }); // console.log(response.data.info)\n\n      this.setState({\n        userid: response.data.info\n      });\n      this.getProfile();\n    };\n\n    this.getOrders = async () => {\n      let response = await axios.get(`${backendUrl}/order/${this.state.userid}`);\n      console.log(response.data.orders);\n      this.setState({\n        userorders: response.data.orders\n      });\n      this.getRestaurant();\n      console.log('got em');\n    };\n\n    this.getCarrierOrders = async () => {\n      let response = await axios.get(`${backendUrl}/order/carrier/${this.state.carrierid}`);\n      this.setState({\n        carrierorders: response.data.orders\n      });\n      console.log(response.data.orders);\n      this.getRestaurant();\n    };\n\n    this.loginUser = async e => {\n      this.setState({\n        status: 'loading'\n      });\n      e.preventDefault();\n      let response = await axios.post(`${backendUrl}/auth/login`, {\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n      this.setState({\n        userid: response.data.info\n      });\n      this.getProfile();\n    };\n\n    this.getCarrierProfile = async () => {\n      let response = await axios.get(`${backendUrl}/carriers/profile/${this.state.carrierid}`);\n      console.log(response.data);\n      this.setState({\n        carrierinfo: response.data\n      });\n      this.setState({\n        carrierloggedin: true\n      });\n      this.getCarrierOrders();\n    };\n\n    this.loginCarrier = async e => {\n      this.setState({\n        status: 'loading'\n      });\n      e.preventDefault();\n      let response = await axios.post(`${backendUrl}/auth/login/carrier`, {\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n      this.setState({\n        carrierid: response.data.info\n      });\n      this.getCarrierProfile();\n      console.log('logged in');\n    };\n\n    this.createCarrier = async e => {\n      this.setState({\n        status: 'loading'\n      });\n      e.preventDefault();\n      let response = await axios.post(`${backendUrl}/auth/signup/carrier`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n    };\n\n    this.createRestaurant = async e => {\n      this.setState({\n        status: 'loading'\n      });\n      e.preventDefault();\n      let response = await axios.post(`${backendUrl}/auth/signup/restaurant`, {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      });\n    };\n\n    this.completeOrder = async e => {\n      // let response = await axios.put(\n      // )\n      console.log(e);\n    };\n\n    this.updateUser = async e => {\n      e.preventDefault();\n      let response = await axios.put(`${backendUrl}/users/${this.state.userid}`, {\n        name: e.target.name.value,\n        username: e.target.username.value // password: e.target.password.value\n\n      }); // console.log(response)\n    };\n\n    this.state = {\n      userid: 0,\n      userinfo: '',\n      loggedIn: false,\n      zomatokey: '23b2ca9ccd8bf6aeb3e62dec2f4d6019',\n      restaurantlist: '',\n      distance: 2000,\n      latitude: '',\n      longitude: '',\n      zipcode: 0,\n      userorders: '',\n      restaurantarry: '',\n      carrierid: 0,\n      carrierinfo: '',\n      carrierloggedin: false,\n      carrierorders: '',\n      status: 'none'\n    }; // this.baseState = this.state\n\n    this.logout = this.logout.bind(this);\n    this.trydocumenu = this.trydocumenu.bind(this);\n    this.getOrders = this.getOrders.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n  }\n\n  logout() {\n    this.setState({\n      loggedIn: false\n    });\n    this.setState({\n      carrierloggedin: false\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    if (this.state.loggedIn != true && this.state.carrierloggedin != true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fast-flicker\",\n            children: \"D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 7\n          }, this), \"eliv\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flicker\",\n            children: \"A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 50\n          }, this), \"pp\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user\",\n              className: \"li\",\n              children: \"ORDER FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/carrier\",\n              className: \"li\",\n              children: \"DELIVER FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/restaurant\",\n              className: \"li\",\n              children: \"MAKE FOOD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(UserLogin, { ...routerProps,\n                createUser: e => this.createUser(e),\n                loginUser: e => this.loginUser(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/carrier\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(CarrierLogin, { ...routerProps,\n                createCarrier: e => this.createCarrier(e),\n                loginCarrier: e => this.loginCarrier(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/restaurant\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(RestaurantLogin, { ...routerProps,\n                createRestaurant: e => this.createRestaurant(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 5\n      }, this);\n    } else if (this.state.loggedIn == true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fast-flicker\",\n            children: \"D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 9\n          }, this), \"eliv\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flicker\",\n            children: \"A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 52\n          }, this), \"pp\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome back, \", this.state.userinfo.user.name, \". What do you have a taste for?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user/account\",\n              className: \"li\",\n              children: \"MY ACCOUNT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user/orders\",\n              onClick: this.getOrders,\n              className: \"li\",\n              children: \"MY ORDERS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/user\",\n              className: \"li\",\n              children: \"ORDER NOW\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              onClick: this.logout,\n              className: \"li\",\n              children: \"LOGOUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user/orders\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(MyOrders, { ...routerProps,\n                orders: this.state.userorders,\n                restaurants: this.state.restaurantarry\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user/account\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(UserAccount, { ...routerProps,\n                user: this.state.userinfo,\n                updateUser: e => this.updateUser(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/api/auth/signup/user\",\n              component: routerProps => /*#__PURE__*/_jsxDEV(RestaurantList, { ...routerProps,\n                restaurantlist: this.state.restaurantlist,\n                userid: this.state.userid,\n                getOrders: this.getOrders\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }, this);\n    } else {\n      console.log(this.state.carrierinfo.carrier.username);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fast-flicker\",\n            children: \"D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 7\n          }, this), \"eliv\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flicker\",\n            children: \"A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 50\n          }, this), \"pp\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"App-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome back, \", this.state.carrierinfo.carrier.username, \". Want to make money?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/carrier/account\",\n              className: \"li\",\n              children: \"MY ACCOUNT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/api/auth/signup/carrier/orders\",\n              onClick: this.getCarrierOrders,\n              className: \"li\",\n              children: \"MY ORDERS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              onClick: this.logout,\n              className: \"li\",\n              children: \"LOGOUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/api/auth/signup/carrier/orders\",\n            component: routerProps => /*#__PURE__*/_jsxDEV(CarrierOrders, { ...routerProps,\n              completeOrder: e => this.completeOrder(e),\n              orders: this.state.carrierorders,\n              restaurants: this.state.restaurantarry\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jh45583/sei/projects/project4/Project-4-FrontEnd/src/App.js"],"names":["React","Component","Route","Link","Switch","UserLogin","CarrierLogin","RestaurantLogin","MyOrders","axios","RestaurantList","UserAccount","CarrierOrders","backendUrl","process","env","REACT_APP_BACKEND_URL","App","constructor","componentDidMount","getLocation","console","log","state","restaurantlist","trydocumenu","zipcode","res","options","method","url","params","size","fullmenu","top_cuisines","page","headers","request","then","response","data","catch","error","setState","getRestaurant","e","get","restaurantarry","users","latitude","longitude","getProfile","userid","userinfo","loggedIn","getOrders","createUser","status","preventDefault","post","name","target","value","username","password","info","orders","userorders","getCarrierOrders","carrierid","carrierorders","loginUser","getCarrierProfile","carrierinfo","carrierloggedin","loginCarrier","createCarrier","createRestaurant","completeOrder","updateUser","put","zomatokey","distance","logout","bind","render","routerProps","user","carrier"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport React, { Component } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport './App.css';\nimport UserLogin from './UserLogin';\nimport CarrierLogin from './CarrierLogin';\nimport RestaurantLogin from './RestaurantLogin';\nimport MyOrders from './MyOrders';\nimport axios from \"axios\";\nimport RestaurantList from './RestaurantList';\nimport UserAccount from './UserAccount';\nimport CarrierOrders from './CarrierOrders';\nconst backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:3001/api';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      userid: 0,\n      userinfo: '',\n      loggedIn: false,\n      zomatokey: '23b2ca9ccd8bf6aeb3e62dec2f4d6019',\n      restaurantlist: '',\n      distance: 2000,\n      latitude: '',\n      longitude: '',\n      zipcode: 0,\n      userorders:'',\n      restaurantarry:'',\n      carrierid: 0,\n      carrierinfo: '',\n      carrierloggedin: false,\n      carrierorders:'',\n      status: 'none'\n\n\n    }\n    // this.baseState = this.state\n    this.logout = this.logout.bind(this);\n    this.trydocumenu = this.trydocumenu.bind(this);\n    this.getOrders = this.getOrders.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n  }\n  componentDidMount = ()=>{\n    this.getLocation();\n    console.log(this.state.restaurantlist)\n    \n  };\n\n trydocumenu = async ()=>{\n   console.log(this.state.zipcode)\n   let res = ''\n  const options = {\n    method: 'GET',\n    url: `https://documenu.p.rapidapi.com/restaurants/zip_code/${this.state.zipcode}`,\n    params: {size: '30', fullmenu: 'true', top_cuisines: 'true', page: '1'},\n    headers: {\n      'x-api-key': 'ab1514d61b203d8917678cc66a9aa6c5',\n      'x-rapidapi-key': '5178deb9e5mshbd2528dbbc0e1bfp1ea1fbjsn0bf90fd05f8a',\n      'x-rapidapi-host': 'documenu.p.rapidapi.com'\n    }\n  };\n  await axios.request(options).then(function (response) {\n    // console.log(response.data);\n    res = response.data\n  }).catch(function (error) {\n    console.error(error);\n  });\n  \n  this.setState({restaurantlist: res.data})\n  console.log(this.state.restaurantlist)\n }\n getRestaurant = async (e)=>{\n  let response = await axios.get(\n      `${backendUrl}/restaurants/`\n  )\n  this.setState({restaurantarry: response.data.users})\n\n }\n \n getLocation = async ()=>{\n   let response = await axios.get('https://api.ipgeolocation.io/ipgeo?apiKey=25b4efee1bfe40a28d0e03652fded5dd')\n   console.log(response)\n   this.setState({latitude: response.data.latitude})\n   this.setState({longitude: response.data.longitude})\n   this.setState({zipcode: response.data.zipcode})\n   this.trydocumenu();\n   \n }\n getProfile = async ()=>{\n  \n   let response = await axios.get(\n     `${backendUrl}/users/profile/${this.state.userid}`\n   )\n   console.log(response.data)\n   this.setState({userinfo: response.data})\n   this.setState({loggedIn : true})\n   console.log(this.state.userinfo)\n   this.getOrders();\n   \n }\n createUser = async (e) => {\n    this.setState({status: 'loading'})\n    e.preventDefault();\n    let response = await axios.post(\n      `${backendUrl}/auth/signup/user`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n    // console.log(response.data.info)\n    this.setState({userid: response.data.info})\n    this.getProfile();\n  }\n  getOrders = async ()=>{\n    let response = await axios.get(\n      `${backendUrl}/order/${this.state.userid}`\n    )\n    console.log(response.data.orders)\n    this.setState({userorders: response.data.orders})\n    this.getRestaurant();\n    console.log('got em')\n  }\n  getCarrierOrders = async ()=>{\n    let response = await axios.get(\n      `${backendUrl}/order/carrier/${this.state.carrierid}`\n    )\n    this.setState({carrierorders: response.data.orders})\n    console.log(response.data.orders)\n    this.getRestaurant();\n    \n  }\n  loginUser = async (e)=>{\n    this.setState({status: 'loading'})\n    e.preventDefault();\n    let response = await axios.post(\n      `${backendUrl}/auth/login`,\n      {\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n    this.setState({userid: response.data.info})\n    \n    this.getProfile();\n    \n  }\n  getCarrierProfile = async ()=>{\n  \n    let response = await axios.get(\n      `${backendUrl}/carriers/profile/${this.state.carrierid}`\n    )\n    console.log(response.data)\n    this.setState({carrierinfo: response.data})\n    this.setState({carrierloggedin: true})\n    this.getCarrierOrders();\n  }\n  loginCarrier = async (e)=>{\n    this.setState({status: 'loading'})\n    e.preventDefault();\n    let response = await axios.post(\n      `${backendUrl}/auth/login/carrier`,\n      {\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n    this.setState({carrierid: response.data.info})\n    this.getCarrierProfile();\n    console.log('logged in')\n    \n  }\n  createCarrier = async (e) => {\n    this.setState({status: 'loading'})\n    e.preventDefault();\n    let response = await axios.post(\n      `${backendUrl}/auth/signup/carrier`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n  }\n  createRestaurant = async (e) => {\n    this.setState({status: 'loading'})\n    e.preventDefault();\n    let response = await axios.post(\n      `${backendUrl}/auth/signup/restaurant`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        password: e.target.password.value\n      }\n    );\n  }\n  completeOrder = async(e)=>{\n    // let response = await axios.put(\n\n    // )\n    console.log(e)\n  }\n  logout(){\n    this.setState({loggedIn: false})\n    this.setState({carrierloggedin: false})\n    console.log(this.state)\n  }\n  updateUser = async (e)=>{\n    e.preventDefault();\n    let response = await axios.put(\n      `${backendUrl}/users/${this.state.userid}`,\n      {\n        name: e.target.name.value,\n        username: e.target.username.value,\n        // password: e.target.password.value\n      }\n    )\n    // console.log(response)\n  }\n  render(){\n  if(this.state.loggedIn != true && this.state.carrierloggedin != true){\n  return (\n    <div className=\"App\">\n      <div className='sign'>\n      <span className='fast-flicker'>D</span>eliv<span className='flicker'>A</span>pp\n      </div>\n      <header className=\"App-header\">\n        <nav>\n          <Link to='/api/auth/signup/user'className='li'>ORDER FOOD</Link>\n          <Link to='/api/auth/signup/carrier' className='li'>DELIVER FOOD</Link>\n          <Link to='/api/auth/signup/restaurant' className='li'>MAKE FOOD</Link>\n        </nav>\n      </header>\n      <main>\n        <Switch>\n      <Route path = '/api/auth/signup/user' component={(routerProps)=> (\n        <UserLogin {...routerProps} createUser={(e) => this.createUser(e)}\n        loginUser={(e)=> this.loginUser(e)}/>)}/>\n      <Route path = '/api/auth/signup/carrier' component={(routerProps)=> (\n        <CarrierLogin {...routerProps} createCarrier={(e) => this.createCarrier(e)}\n        loginCarrier={(e)=>this.loginCarrier(e)}/>)}/>\n      <Route path = '/api/auth/signup/restaurant' component={(routerProps)=> (\n        <RestaurantLogin {...routerProps} createRestaurant={(e) => this.createRestaurant(e)} />)}/>\n      </Switch>\n      </main>\n    </div>\n  );\n      }\n  else if(this.state.loggedIn == true)\n  {\n    return(\n      <div className='App'>\n        <div className='sign'>\n        <span className='fast-flicker'>D</span>eliv<span className='flicker'>A</span>pp\n        </div>\n        <header className=\"App-header\">\n          <h2>Welcome back, {this.state.userinfo.user.name}. What do you have a taste for?</h2>\n          <nav>\n          <Link to='/api/auth/signup/user/account' className='li'>MY ACCOUNT</Link>\n          <Link to='/api/auth/signup/user/orders'onClick={this.getOrders}className='li'>MY ORDERS</Link>\n          <Link to= '/api/auth/signup/user' className='li'>ORDER NOW</Link>\n\n          <Link to='/'onClick={this.logout} className='li'>LOGOUT</Link>\n        </nav>\n        </header>\n        <main>\n          <Switch>\n            <Route path='/api/auth/signup/user/orders' component={(routerProps)=>(\n              <MyOrders {...routerProps} orders={this.state.userorders} restaurants = {this.state.restaurantarry}/>\n            )}/>\n            <Route path='/api/auth/signup/user/account' component={(routerProps)=>(\n              <UserAccount {...routerProps} user={this.state.userinfo} updateUser={(e)=>this.updateUser(e)}/>\n            )}/>\n            <Route path='/api/auth/signup/user' component={(routerProps)=>(\n              <RestaurantList {...routerProps} restaurantlist={this.state.restaurantlist} userid={this.state.userid}\n              getOrders={this.getOrders}/>)}/>\n            \n          </Switch>\n        </main>\n        \n      </div>\n    )\n  }else{\n    console.log(this.state.carrierinfo.carrier.username)\n    return(\n      <div className='App'>\n        <div className='sign'>\n      <span className='fast-flicker'>D</span>eliv<span className='flicker'>A</span>pp\n      </div>\n        <header className=\"App-header\">\n          <h2>Welcome back, {this.state.carrierinfo.carrier.username}. Want to make money?</h2>\n          <nav>\n          <Link to='/api/auth/signup/carrier/account' className='li'>MY ACCOUNT</Link>\n          <Link to='/api/auth/signup/carrier/orders'onClick={this.getCarrierOrders}className='li'>MY ORDERS</Link>\n          \n          <Link to='/'onClick={this.logout} className='li'>LOGOUT</Link>\n        </nav>\n        </header>\n        <main>\n        <Route path='/api/auth/signup/carrier/orders' component={(routerProps)=>(\n              <CarrierOrders {...routerProps} completeOrder = {(e)=>this.completeOrder(e)} orders={this.state.carrierorders} restaurants = {this.state.restaurantarry}/>\n            )}/>\n        </main>\n        \n      </div>\n    )\n  }\n}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}